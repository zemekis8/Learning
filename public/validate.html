<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Регистрационная форма</title>
    <style>
        .signup{
            border: 1px solid #999999;
            font: normal 14px helvetica;
            color: #444444;
        }
    </style>
    <script>
        function validate(form){
            let fail = validateForename(form.forename.value);
            fail += validateSurname(form.surname.value);
            fail += validateUsername(form.username.value);
            fail += validatePassword(form.password.value);
            fail += validateAge(form.age.value);
            fail += validateEmail(form.email.value);
            if (fail == "") {
                return true;
            }
            else {
                alert(fail);
                return true;
            }
        }
        function validateForename(fail){
            return fail == "" ?  "Не введено Имя \n" : "" ;
        }
        function validateSurname(fail){
            return fail == "" ? "Не введена Фамилия \n" : "" ;
        }
        function validateUsername(fail){
            if (fail == ""){
                return "Не введено Имя пользователя \n" ;
            } else if(fail.length < 2){
                return "Имя пользователя слишком короткое \n" ;
            } else if(/[^a-zA-Z0-9_-]/.test(fail)){
                return "Строка-Имя пользователя, имеет запрещенные символы \n";
            }
            return "";
        }
        function validatePassword(fail){
            if (fail == ""){
                return "Не введен пароль \n";
            }else if(fail.length < 7 ){
                return "Пароль слишком которкий \n";
            }else if(!/[a-z]/.test(fail) || ! /[A-Z]/.test(fail) || !/[0-9]/.test(fail)){
                return "Строка Пароль, имеет запрещенные символы \n";
            }
            return "";
        }
        function validateAge(fail){
            if (fail == "" || isNaN(fail)){
                return "Не введен возвраст \n";
            }else if(fail < 18 || fail > 110){
                return "Неверно введен возвсраст \n";
            }
            return "";
        }
        function validateEmail(fail) {
            if (fail == "") return "Не введен адрес электронной почты.\n"
            else if (!((fail.indexOf(".") > 0) &&
                    (fail.indexOf("@") > 0)) ||
                /[^a-zA-Z0-9.@_-]/.test(fail))
                return "Электронный адрес имеет неверный формат.\n"
            return ""
        }
    </script>
</head>
<body>
    <table class="signup" border="0" cellpadding="2" cellspacing="5" bgcolor="#eeeeee">
        <th colspan="2" align="center">Регистрационная форма</th>
        <form method="post" action="adduser.php" onsubmit="return validate(this)">
            <tr><td>Имя</td> <td><input type="text" maxlength="32" name="forename"></td></tr>
            <tr><td>Фамилия</td> <td><input type="text" maxlength="32" name="surname"></td></tr>
            <tr><td>Пользовательское имя</td><td><input type="text" maxlength="16" name="username"></td></tr>
            <tr><td>Пароль</td> <td><input type="text" maxlength="12"name="password"></td></tr>
            <tr><td>Возраст</td> <td><input type="text" maxlength="3" name="age"></td></tr>
            <tr><td>Электронный адрес</td> <td><input type="text" maxlength="64" name="email"></td></tr>
            <tr><td colspan="2" align="center"> <input type="submit" value="Зарегистрироваться"></td></tr>
        </form>
    </table>
</body>
</html>